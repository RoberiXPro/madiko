<!DOCTYPE html>
<html>
<head>
    <title>Chat en temps réel</title>
    <!-- Ajoutez les SDK Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>
        // Configurer Firebase
        var firebaseConfig = {
            apiKey: "AIzaSyAN7IrOQfHYJAeO49I1EZxDfupv62Ew9XI",
            authDomain: "madiko-rs.firebaseapp.com",
            databaseURL: "https://madiko-rs-default-rtdb.firebaseio.com",
            projectId: "madiko-rs",
            storageBucket: "madiko-rs.appspot.com",
            messagingSenderId: "746083664475",
            appId: "1:746083664475:web:aac67e41473794d906b57e",
            measurementId: "G-94X8VKC465"
        };
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <!-- Conteneur de chat -->
    <div id="chat-window"></div>
    <!-- Champ pour entrer le message -->
    <input type="text" id="message" placeholder="Votre message">
    <button onclick="sendMessage()">Envoyer</button>

    <script>
        // Référence à la base de données
        var db = firebase.database().ref("messages");

        // Fonction pour envoyer un message
        function sendMessage() {
            var message = document.getElementById("message").value;
            db.push().set({ "message": message });
            document.getElementById("message").value = '';
        }

        // Fonction pour écouter les messages en temps réel
        db.on("child_added", function(snapshot) {
            var msg = snapshot.val().message;
            var msgDiv = document.createElement("div");
            msgDiv.textContent = msg;
            document.getElementById("chat-window").appendChild(msgDiv);
        });
    </script>
</body>
</html>
